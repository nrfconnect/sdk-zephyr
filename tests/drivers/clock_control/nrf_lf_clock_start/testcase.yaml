common:
  tags:
    - drivers
    - clock_control
  integration_platforms:
    - nrf51dk/nrf51822
  timeout: 30
tests:
  drivers.clock.nrf5_lf_clock_start_xtal_stable:
    platform_allow:
      - nrf51dk/nrf51822
      - nrf52dk/nrf52832
      - nrf52840dk/nrf52840
      - nrf9160dk/nrf9160
      - nrf5340dk/nrf5340/cpuapp
      - nrf5340dk/nrf5340/cpunet
      - nrf54l15dk/nrf54l15/cpuapp
      - nrf54l15dk/nrf54l15/cpuapp/ns
      - nrf54lm20dk/nrf54lm20a/cpuapp
      - nrf7120dk/nrf7120/cpuapp
      - ophelia4ev/nrf54l15/cpuapp
    extra_configs:
      - CONFIG_SYSTEM_CLOCK_WAIT_FOR_STABILITY=y
    integration_platforms:
      - nrf51dk/nrf51822

  drivers.clock.nrf_lf_clock_start_xtal_available:
    platform_allow:
      - nrf51dk/nrf51822
      - nrf52dk/nrf52832
      - nrf52840dk/nrf52840
      - nrf9160dk/nrf9160
      - nrf5340dk/nrf5340/cpuapp
      - nrf5340dk/nrf5340/cpunet
      - nrf54l15dk/nrf54l15/cpuapp
      - nrf54l15dk/nrf54l15/cpuapp/ns
      - nrf54lm20dk/nrf54lm20a/cpuapp
      - nrf7120dk/nrf7120/cpuapp
      - ophelia4ev/nrf54l15/cpuapp
    extra_configs:
      - CONFIG_SYSTEM_CLOCK_WAIT_FOR_AVAILABILITY=y
    integration_platforms:
      - nrf51dk/nrf51822

  drivers.clock.nrf_lf_clock_start_xtal_no_wait:
    platform_allow:
      - nrf51dk/nrf51822
      - nrf52dk/nrf52832
      - nrf52840dk/nrf52840
      - nrf9160dk/nrf9160
      - nrf5340dk/nrf5340/cpuapp
      - nrf5340dk/nrf5340/cpunet
      - nrf54l15dk/nrf54l15/cpuapp
      - nrf54l15dk/nrf54l15/cpuapp/ns
      - nrf54lm20dk/nrf54lm20a/cpuapp
      - nrf7120dk/nrf7120/cpuapp
      - ophelia4ev/nrf54l15/cpuapp
    integration_platforms:
      - nrf51dk/nrf51822
    extra_configs:
      - CONFIG_SYSTEM_CLOCK_NO_WAIT=y

  drivers.clock.nrf5_lf_clock_start_rc_stable:
    platform_allow:
      - nrf51dk/nrf51822
      - nrf5340dk/nrf5340/cpuapp
      - nrf5340dk/nrf5340/cpunet
      - nrf54l15dk/nrf54l15/cpuapp
      - nrf54l15dk/nrf54l15/cpuapp/ns
      - nrf54lm20dk/nrf54lm20a/cpuapp
      - nrf7120dk/nrf7120/cpuapp
      - ophelia4ev/nrf54l15/cpuapp
    integration_platforms:
      - nrf51dk/nrf51822
    extra_configs:
      - CONFIG_SYSTEM_CLOCK_WAIT_FOR_STABILITY=y
    extra_args:
      - EXTRA_DTC_OVERLAY_FILE="boards/nrf5x_series.overlay"

  drivers.clock.nrf52_lf_clock_start_rc_stable:
    platform_allow:
      - nrf52dk/nrf52832
      - nrf52840dk/nrf52840
    integration_platforms:
      - nrf52dk/nrf52832
    extra_configs:
      - CONFIG_SYSTEM_CLOCK_WAIT_FOR_STABILITY=y
    extra_args:
      - EXTRA_DTC_OVERLAY_FILE="boards/nrf52_series.overlay"

  drivers.clock.nrf5_lf_clock_start_rc_available:
    platform_allow:
      - nrf51dk/nrf51822
      - nrf5340dk/nrf5340/cpuapp
      - nrf5340dk/nrf5340/cpunet
      - nrf54l15dk/nrf54l15/cpuapp
      - nrf54l15dk/nrf54l15/cpuapp/ns
      - nrf54lm20dk/nrf54lm20a/cpuapp
      - nrf7120dk/nrf7120/cpuapp
      - ophelia4ev/nrf54l15/cpuapp
    integration_platforms:
      - nrf51dk/nrf51822
    extra_configs:
      - CONFIG_SYSTEM_CLOCK_WAIT_FOR_AVAILABILITY=y
    extra_args:
      - EXTRA_DTC_OVERLAY_FILE="boards/nrf5x_series.overlay"

  drivers.clock.nrf52_lf_clock_start_rc_available:
    platform_allow:
      - nrf52dk/nrf52832
      - nrf52840dk/nrf52840
    integration_platforms:
      - nrf52dk/nrf52832
    extra_configs:
      - CONFIG_SYSTEM_CLOCK_WAIT_FOR_AVAILABILITY=y
    extra_args:
      - EXTRA_DTC_OVERLAY_FILE="boards/nrf52_series.overlay"

  drivers.clock.nrf5_lf_clock_start_rc_no_wait:
    platform_allow:
      - nrf51dk/nrf51822
      - nrf5340dk/nrf5340/cpuapp
      - nrf5340dk/nrf5340/cpunet
      - nrf54l15dk/nrf54l15/cpuapp
      - nrf54l15dk/nrf54l15/cpuapp/ns
      - nrf54lm20dk/nrf54lm20a/cpuapp
      - nrf7120dk/nrf7120/cpuapp
      - ophelia4ev/nrf54l15/cpuapp
    integration_platforms:
      - nrf51dk/nrf51822
    extra_configs:
      - CONFIG_SYSTEM_CLOCK_NO_WAIT=y
    extra_args:
      - EXTRA_DTC_OVERLAY_FILE="boards/nrf5x_series.overlay"

  drivers.clock.nrf52_lf_clock_start_rc_no_wait:
    platform_allow:
      - nrf52dk/nrf52832
      - nrf52840dk/nrf52840
    integration_platforms:
      - nrf52dk/nrf52832
    extra_configs:
      - CONFIG_SYSTEM_CLOCK_NO_WAIT=y
    extra_args:
      - EXTRA_DTC_OVERLAY_FILE="boards/nrf52_series.overlay"

  drivers.clock.nrf_lf_clock_start_synth_stable:
    platform_allow:
      - nrf51dk/nrf51822
      - nrf52dk/nrf52832
      - nrf52840dk/nrf52840
      - nrf5340dk/nrf5340/cpuapp
      - nrf5340dk/nrf5340/cpunet
      - nrf54l15dk/nrf54l15/cpuapp
      - nrf54l15dk/nrf54l15/cpuapp/ns
      - nrf54lm20dk/nrf54lm20a/cpuapp
      - nrf7120dk/nrf7120/cpuapp
      - ophelia4ev/nrf54l15/cpuapp
    integration_platforms:
      - nrf51dk/nrf51822
    extra_configs:
      - CONFIG_SYSTEM_CLOCK_WAIT_FOR_STABILITY=y
    extra_args:
      - EXTRA_DTC_OVERLAY_FILE="boards/nrf5x_series_synth.overlay"

  drivers.clock.nrf_lf_clock_start_synth_available:
    platform_allow:
      - nrf51dk/nrf51822
      - nrf52dk/nrf52832
      - nrf52840dk/nrf52840
      - nrf5340dk/nrf5340/cpuapp
      - nrf5340dk/nrf5340/cpunet
      - nrf54l15dk/nrf54l15/cpuapp
      - nrf54l15dk/nrf54l15/cpuapp/ns
      - nrf54lm20dk/nrf54lm20a/cpuapp
      - nrf7120dk/nrf7120/cpuapp
      - ophelia4ev/nrf54l15/cpuapp
    integration_platforms:
      - nrf51dk/nrf51822
    extra_configs:
      - CONFIG_SYSTEM_CLOCK_WAIT_FOR_AVAILABILITY=y
    extra_args:
      - EXTRA_DTC_OVERLAY_FILE="boards/nrf5x_series_synth.overlay"

  drivers.clock.nrf_lf_clock_start_synth_no_wait:
    platform_allow:
      - nrf51dk/nrf51822
      - nrf52dk/nrf52832
      - nrf52840dk/nrf52840
      - nrf5340dk/nrf5340/cpuapp
      - nrf5340dk/nrf5340/cpunet
      - nrf54l15dk/nrf54l15/cpuapp
      - nrf54l15dk/nrf54l15/cpuapp/ns
      - nrf54lm20dk/nrf54lm20a/cpuapp
      - nrf7120dk/nrf7120/cpuapp
      - ophelia4ev/nrf54l15/cpuapp
    integration_platforms:
      - nrf51dk/nrf51822
    extra_configs:
      - CONFIG_SYSTEM_CLOCK_NO_WAIT=y
    extra_args:
      - EXTRA_DTC_OVERLAY_FILE="boards/nrf5x_series_synth.overlay"
