name: Commit tags

on:
  pull_request:
    types: [synchronize, opened, reopened, edited, labeled, unlabeled,
            milestoned, demilestoned, assigned, unassigned, ready_for_review,
            review_requested]

permissions:
  contents: read

jobs:
  commit_tags:
    runs-on: ubuntu-22.04
    name: Run commit tags checks on patch series (PR)
    steps:
    - name: Update PATH for west
      run: |
        echo "$HOME/.local/bin" >> $GITHUB_PATH

    - name: Checkout the code
      uses: actions/checkout@1af3b93b6815bc44a9784bd300feb67ff0d1eeb3 # v6.0.0
      with:
        ref: ${{ github.event.pull_request.head.sha }}
        fetch-depth: 0

    - name: Run the commit tags
      uses: nrfconnect/action-commit-tags@main
      with:
        target: .
        upstream: zephyrproject-rtos/zephyr/main
